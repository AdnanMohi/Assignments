{"version":3,"file":"loadProviders.c78c7ad31871a7febc0f.js","mappings":"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","sources":["webpack://initialMosaicPlatform/./node_modules/@indeed/mosaic-provider-utils/dist/common-statics/_internal/providerInView.js","webpack://initialMosaicPlatform/./node_modules/@indeed/mosaic-provider-utils/dist/web/_internal/logging/index.js","webpack://initialMosaicPlatform/./node_modules/@indeed/mosaic-provider-utils/dist/web/_internal/logging/transport.js","webpack://initialMosaicPlatform/./node_modules/@indeed/mosaic-provider-utils/dist/web/_internal/setup/providerData.js","webpack://initialMosaicPlatform/./node_modules/@indeed/mosaic-provider-utils/dist/web/_internal/utils/addClassToElement.js","webpack://initialMosaicPlatform/./node_modules/@indeed/mosaic-provider-utils/dist/web/logger.js","webpack://initialMosaicPlatform/./node_modules/@indeed/mosaic-provider-utils/dist/web/logging/index.js","webpack://initialMosaicPlatform/./node_modules/@indeed/signals-logger/dist/AvroOptional.js","webpack://initialMosaicPlatform/./node_modules/@indeed/signals-logger/dist/index.js","webpack://initialMosaicPlatform/./node_modules/@indeed/signals-schema/com/indeed/signals/schema/mosaic/ProviderDimensionChange.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/src/onModuleLoad.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/src/loadModules.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/config/modules.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/src/log.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/index.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/modules/_constants.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/modules/_utils.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/modules/event.js","webpack://initialMosaicPlatform/./node_modules/@indeed/frontend-logging/transports/_networkGetRequest.js","webpack://initialMosaicPlatform/../../../src/api/client/SharedDepsClient.ts","webpack://initialMosaicPlatform/../../../src/api/client/index.ts","webpack://initialMosaicPlatform/../../src/types/v1.ts","webpack://initialMosaicPlatform/./node_modules/qs/lib/formats.js","webpack://initialMosaicPlatform/./node_modules/qs/lib/index.js","webpack://initialMosaicPlatform/./node_modules/qs/lib/parse.js","webpack://initialMosaicPlatform/./node_modules/qs/lib/stringify.js","webpack://initialMosaicPlatform/./node_modules/qs/lib/utils.js","webpack://initialMosaicPlatform/webpack/bootstrap","webpack://initialMosaicPlatform/webpack/runtime/compat get default export","webpack://initialMosaicPlatform/webpack/runtime/define property getters","webpack://initialMosaicPlatform/webpack/runtime/hasOwnProperty shorthand","webpack://initialMosaicPlatform/webpack/runtime/make namespace object","webpack://initialMosaicPlatform/webpack/runtime/publicPath","webpack://initialMosaicPlatform/./src/util/publicPath.ts","webpack://initialMosaicPlatform/./src/util/providerInView.ts","webpack://initialMosaicPlatform/./src/util/performance.ts","webpack://initialMosaicPlatform/./src/util/loadAsync.ts","webpack://initialMosaicPlatform/./src/util/getPlatformLogTk.ts","webpack://initialMosaicPlatform/./src/util/sentry.ts","webpack://initialMosaicPlatform/./src/util/retry.ts","webpack://initialMosaicPlatform/./src/util/initializeProvidersUtils.ts","webpack://initialMosaicPlatform/./src/util/debug.ts","webpack://initialMosaicPlatform/./src/util/initializeProviders.ts","webpack://initialMosaicPlatform/./src/util/providerLoggingCallback.ts","webpack://initialMosaicPlatform/./src/util/logging.ts","webpack://initialMosaicPlatform/./src/loadProviders.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.providerInView = void 0;\n/**\n * Notifies via callback function the first time\n * a provider comes into the viewport on the page.\n *\n * @private\n */\nfunction providerInView(IntersectionObserver, providerEl, callback) {\n    var observer = new IntersectionObserver(function (providerEntryArray) {\n        var providerEntry = providerEntryArray[0];\n        if (providerEntry.intersectionRatio > 0) {\n            observer.unobserve(providerEl);\n            callback();\n        }\n    }, {\n        threshold: 0.8 // Log when the provider is 80% in view\n    });\n    observer.observe(providerEl);\n}\nexports.providerInView = providerInView;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLogger = void 0;\n// @ts-ignore\nvar event_1 = require(\"@indeed/frontend-logging/modules/event\");\nvar transport_1 = __importDefault(require(\"./transport\"));\n/**\n * Gets an instance of @indeed/frontend-logging\n * so that Providers can write custom logs when events occur.\n * Used by both Platform and Provider to create log entries.\n * This utility also adds metadata to logs, such as the\n * hostId, pageID, and the log tracking key of the page.\n * A Provider can pass any data they want into the logs.\n *\n * @public\n * @returns an instance of frontend-logging.\n */\nfunction getLogger(providerName) {\n    /* webpackMode: \"eager\" */\n    // @ts-ignore\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    var init = require('@indeed/frontend-logging').init;\n    var logger = init({\n        application: providerName,\n        modules: ['event'],\n        transport: transport_1.default,\n    });\n    logger.setModules([event_1.EventModule]);\n    logger.setTransport(transport_1.default);\n    logger.logAction = function (_a) {\n        var data = _a.data;\n        logger.event.trackEvent('jsuipAction', __assign({ logType: 'jsuipAction', provider: providerName }, data));\n    };\n    logger.logSeen = function (data) {\n        logger.event.trackEvent('mosaicProviderSeen', __assign({ logType: 'mosaicProviderSeen', provider: providerName }, data));\n    };\n    return logger;\n}\nexports.default = getLogger;\nexports.getLogger = getLogger;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// @ts-ignore\nvar _networkGetRequest_1 = require(\"@indeed/frontend-logging/transports/_networkGetRequest\");\n/**\n * Sets up Provider logging.\n *\n * @private\n */\nvar ProviderTransport = /** @class */ (function () {\n    function ProviderTransport(options) {\n        if (options === void 0) { options = {}; }\n        this.loggingUrl =\n            options.endpoint ||\n                ProviderTransport.getLoggingHost(options.currentHost || window.location.host);\n    }\n    /**\n     * Resolves Turnstile URL to use for the current environment\n     * This is almost always the `t` subdomain of the current top-level domain\n     *\n     * @param host The host portion of the current URL\n     * @returns Turnstile logging endpoint URL\n     */\n    ProviderTransport.getLoggingHost = function (host) {\n        // QA is a special case where the `t` subdomain doesn't directly precede the TLD\n        var defaultQADomain = 'qa.indeed.net';\n        // Remove the port, if present\n        var domains = host.split('.').map(function (x) { return x.replace(/:\\d+/, ''); });\n        var startOfTLD = domains.indexOf('indeed');\n        var isQA = \n        // If the host contains the default QA domain, this is QA\n        host.indexOf(defaultQADomain) > -1 ||\n            // If the host does not contain an indeed TLD, this is likely a local env\n            startOfTLD === -1;\n        var hostname = isQA ? defaultQADomain : domains.slice(startOfTLD).join('.');\n        return \"https://t.\".concat(hostname, \"/signals/mosaic/log\");\n    };\n    ProviderTransport.prototype.getLthForLogType = function (logType) {\n        try {\n            var mosaicRoot = window.mosaic;\n            var logTypes = mosaicRoot.initialData.logTypes;\n            return logTypes[logType];\n        }\n        catch (e) {\n            console.error(\"Unrecognized LogType [\".concat(logType, \"]: \").concat(e));\n            return;\n        }\n    };\n    ProviderTransport.prototype.send = function (logs) {\n        var _this = this;\n        logs.forEach(function (log) {\n            var logType = log.data.logType;\n            var lth = _this.getLthForLogType(logType);\n            var mosaicRoot = window.mosaic;\n            var overrideData = log.data.overrides || {};\n            if (!lth) {\n                // Something has gone terribly wrong if we get here.\n                // Move on to the next log.\n                return;\n            }\n            // All logs are annotated with the same tracking fields,\n            // decided by the platform. These fields are brought down\n            // in initialData via the platform-utils, but loggers are\n            // unaware of this behavior.\n            try {\n                var additionalData = {\n                    type: logType,\n                    parentLogId: mosaicRoot.initialData.platformLogTk,\n                    logTk: mosaicRoot.initialData.logTk,\n                    platform: mosaicRoot.initialData.platformId,\n                    pageId: mosaicRoot.initialData.pageId || '',\n                    ctk: mosaicRoot.initialData.ctk,\n                    country: mosaicRoot.initialData.country,\n                    lth: lth,\n                };\n                (0, _networkGetRequest_1.sendGetRequest)(_this.loggingUrl, __assign(__assign(__assign({}, log), additionalData), overrideData));\n            }\n            catch (e) {\n                // Something is terribly wrong; continue to next log.\n                console.error(\"Failed to send log of type [\".concat(logType, \"]: \").concat(e));\n            }\n        });\n    };\n    return ProviderTransport;\n}());\nexports.default = ProviderTransport;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setHostData = exports.getProviderData = exports.MOSAIC_HOST_DATA_KEY = void 0;\nexports.MOSAIC_HOST_DATA_KEY = 'mosaicHostData.';\nvar getProviderData = function (providerId) {\n    var _a;\n    var providerSetInitialData = (_a = window.mosaic.providerData) === null || _a === void 0 ? void 0 : _a[providerId];\n    var platformSetInitializationData = window.mosaic[\"\".concat(exports.MOSAIC_HOST_DATA_KEY).concat(providerId)] || {};\n    return __assign(__assign({}, providerSetInitialData), platformSetInitializationData);\n};\nexports.getProviderData = getProviderData;\n/**\n * Utility method used by common-statics and host-components to set intializationData for\n * 1. React-based\n * 2. lazy providers, triggered by mosaic.api.loadProvider(id, initializationData);\n * @param providerId\n * @param initializationData\n */\nfunction setHostData(providerId, initializationData) {\n    if (initializationData === void 0) { initializationData = {}; }\n    return (window.mosaic[\"\".concat(exports.MOSAIC_HOST_DATA_KEY).concat(providerId)] = initializationData);\n}\nexports.setHostData = setHostData;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addClassToElement = void 0;\nfunction addClassToElement(el, className) {\n    if (el.classList && el.classList.add) {\n        el.classList.add(className);\n    }\n    else {\n        var classes = el.getAttribute('class');\n        el.setAttribute('class', \"\".concat(className, \" \").concat(classes));\n    }\n}\nexports.addClassToElement = addClassToElement;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLogger = void 0;\n// TODO: This filepath is deprecated and the will be removed\n// in the next major. Import from web/logging instead.\nvar logging_1 = __importDefault(require(\"./logging\"));\nexports.getLogger = logging_1.default;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLogger = void 0;\nvar logging_1 = __importDefault(require(\"../_internal/logging\"));\nexports.getLogger = logging_1.default;\nexports.default = logging_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvroOptional = void 0;\nfunction asOptional(avroType, value) {\n    var _a;\n    return value == null\n        ? null\n        : (_a = {}, _a[avroType] = value, _a);\n}\nexports.AvroOptional = {\n    boolean: function (value) {\n        return asOptional('boolean', value);\n    },\n    int: function (value) {\n        return asOptional('int', value);\n    },\n    long: function (value) {\n        return asOptional('long', value);\n    },\n    float: function (value) {\n        return asOptional('float', value);\n    },\n    double: function (value) {\n        return asOptional('double', value);\n    },\n    bytes: function (value) {\n        return asOptional('bytes', value);\n    },\n    string: function (value) {\n        return asOptional('string', value);\n    },\n    array: function (value) {\n        return asOptional('array', value);\n    },\n    map: function (value) {\n        return asOptional('map', value);\n    },\n    record: function (typeName, value) {\n        return asOptional(typeName, value);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.configure = exports.disconnect = exports.log = void 0;\nvar AvroOptional_1 = require(\"./AvroOptional\");\nObject.defineProperty(exports, \"AvroOptional\", { enumerable: true, get: function () { return AvroOptional_1.AvroOptional; } });\n/**\n * Shims calls to the logger library to pass through to\n * a globally-provided instance of the browser transport\n */\nvar isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar transportConfiguration;\nfunction log(schemaFingerprint, message) {\n    var _a;\n    var _b;\n    if (!isBrowser) {\n        throw new Error('Attempted to log from browser logger in a Node environment');\n    }\n    var fingerprintedMessage = (_a = {}, _a[schemaFingerprint] = message, _a);\n    if (window.signals_transport) {\n        window.signals_transport.emitSignal(fingerprintedMessage);\n    }\n    else {\n        console.log(\"emitting message for `\" + ((_b = transportConfiguration === null || transportConfiguration === void 0 ? void 0 : transportConfiguration.endpoint) !== null && _b !== void 0 ? _b : '(no endpoint configured)') + \"` to console:\");\n        console.log('(this means the signals browser transport is not present -- is this a development environment?)');\n        console.log(JSON.stringify(fingerprintedMessage, null, 2));\n    }\n}\nexports.log = log;\nfunction disconnect() {\n    if (isBrowser && window.signals_transport) {\n        window.signals_transport.disconnect();\n    }\n}\nexports.disconnect = disconnect;\nfunction configure(configuration) {\n    transportConfiguration = configuration;\n    if (isBrowser && window.signals_transport) {\n        window.signals_transport.configure(configuration);\n    }\n}\nexports.configure = configure;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.log = exports.FINGERPRINT = exports.AvroOptional = void 0;\nconst signals_logger_1 = require(\"@indeed/signals-logger\");\nvar signals_logger_2 = require(\"@indeed/signals-logger\");\nObject.defineProperty(exports, \"AvroOptional\", { enumerable: true, get: function () { return signals_logger_2.AvroOptional; } });\nexports.FINGERPRINT = \"e6f158dc442b09bd\";\nfunction log(message) {\n    (0, signals_logger_1.log)(exports.FINGERPRINT, message);\n}\nexports.log = log;\n","/**\n * onModuleLoad returns a function that can be called when a\n * logging module has been loaded. This function instantiates the\n * loaded module, and processes any module method calls that were\n * made before the module was loaded.\n */\nexport const onModuleLoad = (queue, INDEED_LOGGING, config) => {\n    const { application, params, moduleOptions } = config || {};\n\n    return function (name, M) {\n        // Get queued method calls.\n        const q = queue[name];\n\n        const sampleLogs = (moduleOptions && moduleOptions[name] && moduleOptions[name].sampleLogs)\n            ? moduleOptions[name].sampleLogs : () => true;\n\n        // Create a log function unique to this module.\n        const log = INDEED_LOGGING._logger.log.bind(INDEED_LOGGING._logger, name, sampleLogs);\n\n        // Instantiate the module.\n        const m = new M({\n            application,\n            params,\n            options: moduleOptions && moduleOptions[name]\n        }, log);\n\n        // Process the queue.\n        if (q) {\n            q.forEach(([ method, ...args ]) => {\n                m[method](...args);\n            });\n        }\n\n        // Redefine placeholder methods.\n        if (INDEED_LOGGING[name]) {\n            Object.keys(INDEED_LOGGING[name]).forEach((method) => {\n                INDEED_LOGGING[name][method] = m[method].bind(m);\n            });\n        }\n    };\n};\n","import { currentTs } from '../modules/_utils';\n\n/**\n * The loadModules function sets up the interface for interacting with\n * each logging module, based on the methods that are declared for the\n * module in the config/modules.js file. This allows users to call methods\n * for logging modules that have not yet been loaded.\n */\nexport const loadModules = (modules, INDEED_LOGGING, queue, moduleConfig) => {\n    // Do nothing if there are no modules passed.\n    if (!modules || !modules.length) {\n        return;\n    }\n\n    // Set up custom logging modules.\n    modules.forEach((module) => {\n        if (typeof module === 'string') {\n            return;\n        }\n\n        const { name, Module, methods } = module;\n\n        try {\n            INDEED_LOGGING[name] = {};\n            methods.forEach((m) => {\n                INDEED_LOGGING[name][m] = () => {};\n            });\n            INDEED_LOGGING._onModuleLoad(name, Module);\n        } catch (e) {\n            // failed to load custom module\n        }\n    });\n\n    // Set up methods for built-in modules, which may not\n    // be loaded yet. Calls to methods will be queued for handling\n    // when the module is loaded.\n    Object.keys(moduleConfig).forEach((module) => {\n        // Do nothing for modules that the consuming application didn't specify.\n        if (modules.indexOf(module) === -1) {\n            return;\n        }\n\n        const mc = moduleConfig[module];\n\n        // Do nothing for modules that don't expose any methods.\n        if (!mc.methods || !mc.methods.length) {\n            return;\n        }\n\n        const m = INDEED_LOGGING[module] = {};\n        const q = queue[module] = [];\n\n        // Set up placeholders for module methods, so they can be called\n        // before the real module is loaded.\n        mc.methods.forEach((method) => {\n            const internalMethod = `_${method}`;\n\n            m[method] = (...args) => {\n                const ts = currentTs();\n                args.unshift(ts);\n                q.push([ internalMethod, ...args ]);\n            };\n        });\n    });\n};\n","export default {\n    'event': {\n        'methods': [\n            'trackEvent',\n            'trackPerformanceEntry',\n            'trackTimerEntry'\n        ]\n    },\n    'jsError': {\n        'methods': [\n            'logJsErr'\n        ]\n    },\n    'navigationTiming': {\n        'methods': [\n            'logMeaningfullyInteractive'\n        ]\n    },\n    'resourceTiming': {},\n    'turnstile': {}\n};\n","import { currentTs } from '../modules/_utils';\n\n/**\n * This class handles receiving logs from modules, and sending those logs\n * via a transport. It should not be used directly by applications; its\n * methods are automatically wired up to work with configured modules\n * and transports.\n */\nexport class Logger {\n    constructor(config) {\n        this.application = config.application;\n        this.params = config.globalParams;\n        this.logQueue = [];\n\n        window.addEventListener('beforeunload', this.processQueue.bind(this));\n    }\n\n    log(moduleName, sampleLogs, logType, args, ts = currentTs()) {\n        if (sampleLogs && !sampleLogs(args)) {\n            return;\n        }\n\n        this.logQueue.push({\n            moduleName,\n            logType,\n            ts,\n            application: this.application,\n            params: this.params,\n            data: args\n        });\n\n        this.processQueue();\n    }\n\n    processQueue() {\n        if (!this.transport) {\n            return;\n        }\n\n        this.transport.send(this.logQueue);\n        this.logQueue = [];\n    }\n\n    setTransport(transport) {\n        this.transport = transport;\n        this.processQueue();\n    }\n}\n","/* global NODE_ENV:false */\nimport { onModuleLoad as createOnModuleLoad } from './src/onModuleLoad';\nimport { loadModules } from './src/loadModules';\nimport moduleConfig from './config/modules';\nimport { Logger } from './src/log';\n\nexport function init(config) {\n    if (NODE_ENV !== 'production' && !config) {\n        throw new Error('You must initialize the logger with a configuration.');\n    }\n\n    const { modules, transport } = config;\n\n    const queue = {};\n\n    const INDEED_LOGGING = window.INDEED_LOGGING = {\n        _logger: new Logger(config)\n    };\n\n    const onModuleLoad = createOnModuleLoad(queue, INDEED_LOGGING, config);\n\n    // Allows an application to pass an array of modules that were loaded async.\n    // Each module will have a chance to process any method calls that were made\n    // to the module before the module was available.\n    INDEED_LOGGING.setModules = (importedModules) => {\n        importedModules.forEach((M) => {\n            onModuleLoad(M.moduleName, M);\n        });\n    };\n\n    // Allows an application to pass a transport that was loaded async.\n    INDEED_LOGGING.setTransport = (Transport, options) => {\n        INDEED_LOGGING._logger.setTransport(new Transport(options || (transport && transport.options)));\n    };\n\n    // Sets up methods for all configured modules; this lets an application\n    // call these methods before the module is actually available.\n    try {\n        loadModules(modules, INDEED_LOGGING, queue, moduleConfig);\n\n        // Preserve any existing JS error handler.\n        if (modules.indexOf('jsError') > -1) {\n            INDEED_LOGGING._oldOnError = window.onerror;\n            window.onerror = INDEED_LOGGING.jsError.logJsErr;\n        }\n    } catch (e) {\n        if (NODE_ENV !== 'production') {\n            throw e;\n        }\n    }\n\n    return INDEED_LOGGING;\n}\n\nwindow.IndeedLogger = { init };\n","export const BrowserSupport = {\n    supportsNavigationTiming: () => !!(window.performance && window.performance.timing),\n    supportsNavigation: () => !!(window.performance && window.performance.navigation),\n    supportsResourceTiming: () => !!(window.performance && window.performance.getEntriesByType && window.performance.clearResourceTimings),\n    supportsPerformanceNow: () => !!(window.performance && window.performance.now),\n    supportsPerformanceEntryType: () => !!(window.performance && window.performance.getEntriesByType)\n};\n\nexport const TimeStampTypes = {\n    UNSUPPORTED: -1,\n    UNCAPTURED: -2\n};\n","import { BrowserSupport, TimeStampTypes } from './_constants';\n\nexport const copyProps = (obj, props) => {\n    return props.reduce((prev, prop) => {\n        if (typeof obj[prop] !== 'undefined') {\n            prev[prop] = obj[prop];\n        }\n\n        return prev;\n    }, {});\n};\n\nexport const currentTs = () => {\n    return BrowserSupport.supportsPerformanceNow() ? performance.now() : TimeStampTypes.UNSUPPORTED;\n};\n","import { copyProps } from './_utils';\n\nexport class EventModule {\n    static moduleName = 'event';\n\n    constructor(config, log) {\n        this.log = log;\n    }\n\n    trackEvent(eventName, args) {\n        this._trackEvent(undefined, eventName, args); // eslint-disable-line no-undefined\n    }\n\n    _trackEvent(ts, eventName, args) {\n        const payload = {\n            eventName,\n            ...args\n        };\n        this.log('trackEvent', payload, ts);\n    }\n\n    trackPerformanceEntry(performanceEntry) {\n        this._trackPerformanceEntry(undefined, performanceEntry); // eslint-disable-line no-undefined\n    }\n\n    _trackPerformanceEntry(ts, performanceEntry) {\n        if (performanceEntry) {\n            const performanceProps = [\n                'name',\n                'entryType',\n                'startTime',\n                'duration'\n            ];\n            performanceEntry = copyProps(performanceEntry, performanceProps);\n            this.log('performanceEntry', performanceEntry, ts);\n        }\n    }\n\n    trackTimerEntry(timerEntry) {\n        this._trackTimerEntry(undefined, timerEntry); // eslint-disable-line no-undefined\n    }\n\n    _trackTimerEntry(ts, timerEntry) {\n        if (timerEntry) {\n            this.log('timerEntry', timerEntry, ts);\n        }\n    }\n}\n","import qs from 'qs';\n\nexport const sendGetRequest = (baseUrl, logRequestData) => {\n    const url = `${baseUrl}?${qs.stringify(logRequestData)}`;\n\n    const img = new Image();\n    img.src = url;\n    img.height = img.width = 1;\n    img.style.display = 'none';\n    img.alt = ' ';\n    img.setAttribute('aria-hidden', 'true');\n    document.body.appendChild(img);\n\n    img.onload = img.onerror = () => {\n        if (img && img.parentNode) {\n            img.parentNode.removeChild(img);\n        }\n    };\n};\n",null,null,null,"'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && typeof options.encoder !== 'undefined' && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","\"use strict\";\n// @ts-ignore\nif (window && window.mosaic && window.mosaic.webpackPublicPath) {\n    // @ts-ignore\n    // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n    __webpack_public_path__ = window.mosaic.webpackPublicPath + '/';\n}\n","import { providerInView as providerInViewUtil } from '@indeed/mosaic-provider-utils/dist/common-statics/_internal/providerInView';\n// Notifies via the callback function the first time a provider comes into the viewport, lazy loading IntersectionObserver\n// as needed.\nexport const providerInView = (providerEl, callback) => {\n    return 'IntersectionObserver' in window\n        ? // eslint-disable-next-line compat/compat\n            Promise.resolve(providerInViewUtil(window.IntersectionObserver, providerEl, callback))\n        : Promise.resolve();\n};\n","export const getPerfomanceTimings = () => {\n    try {\n        const performance = window.performance;\n        return performance\n            .getEntriesByType('paint')\n            .reduce((acc, entry) => {\n            acc[entry.name] = Math.round(entry.startTime);\n            return acc;\n        }, {});\n    }\n    catch (e) {\n        return {};\n    }\n};\nexport const getNavTimings = () => {\n    try {\n        const { navigationStart, domInteractive, domComplete, domContentLoadedEventEnd } = window.performance.timing;\n        return {\n            domInteractive: domInteractive - navigationStart,\n            domContentLoadedEventEnd: domContentLoadedEventEnd - navigationStart,\n            domComplete: domComplete - navigationStart,\n            providerInteractive: Date.now() - navigationStart\n        };\n    }\n    catch (e) {\n        return {};\n    }\n};\nexport const getProviderLoadTimings = (providerId, providerJsPath) => {\n    var _a;\n    const performanceTimings = {};\n    try {\n        // eslint-disable-next-line compat/compat\n        const loadTiming = ((_a = window.performance.getEntriesByName(providerJsPath)[0]) !== null && _a !== void 0 ? _a : window.performance.getEntriesByName(`${providerJsPath}?1`)[0]);\n        if (loadTiming) {\n            performanceTimings.loadStart = Math.round(loadTiming.startTime);\n            performanceTimings.loadEnd = Math.round(loadTiming.responseEnd);\n        }\n        // eslint-disable-next-line compat/compat\n        const executionStartEntry = window.performance.getEntriesByName(`${providerId}_execution_start`)[0];\n        if (executionStartEntry) {\n            performanceTimings.executionStart = Math.round(executionStartEntry.startTime);\n        }\n        // eslint-disable-next-line compat/compat\n        const executionEndEntry = window.performance.getEntriesByName(`${providerId}_execution_end`)[0];\n        if (executionEndEntry) {\n            performanceTimings.executionEnd = Math.round(executionEndEntry.startTime);\n        }\n        return performanceTimings;\n    }\n    catch (_b) {\n        return performanceTimings;\n    }\n};\n","import { SharedDepsClient } from '@indeed/frontend-shared-deps-loader/dist/api/client';\n/*\n * Dynamically create an async script tag for each Provider\n **/\nexport const loadScript = (path) => {\n    return SharedDepsClient.v1.load('js', { urls: [path] });\n};\nexport const loadStyle = (path) => {\n    return SharedDepsClient.v1.load('css', { urls: [path] });\n};\n","export function getPlatformLogTk(mosaicGlobal, providerId) {\n    var _a, _b, _c, _d;\n    return providerId\n        ? (_b = (_a = mosaicGlobal.platformLogTkLookup) === null || _a === void 0 ? void 0 : _a[providerId]) !== null && _b !== void 0 ? _b : (_c = mosaicGlobal.initialData) === null || _c === void 0 ? void 0 : _c.platformLogTk\n        : (_d = mosaicGlobal.initialData) === null || _d === void 0 ? void 0 : _d.platformLogTk;\n}\n","import { loadScript } from './loadAsync';\nimport { getPlatformLogTk } from './getPlatformLogTk';\n/**\n * Encapsulates the logic used to enable Sentry on a page that hosts a provider.\n *\n * If the page already has Sentry, this will hook in to the existing Sentry implementation and forward errors\n * to the default Mosaic Sentry project as well as the host's Sentry project.\n *\n * If the page does not have Sentry, this will create a Sentry instance that sends error reports to Indeed's default\n * frontend Sentry project, then hook in to it and forward errors to Mosaic's default Sentry project.\n *\n * The `install` method can be safely called multiple times, as long as you're using the same static instance\n * of this class.\n */\nexport class SentryInstaller {\n    constructor(logger, args = {}) {\n        // Capped collection of the exceptions triggered before.\n        // We need it because built-in Sentry mechanism of deduping exceptions doesn't work\n        // properly when we send exceptions to more than one DSN.\n        this.triggeredExceptionsFingerprints = [];\n        this.logger = logger;\n        this.windowObj = args.windowObj || window;\n        this.loadAsync = args.loadAsync || loadScript;\n        this.appendBodyChild =\n            // For some reason you can't just hold a reference to document.body.appendChild, you have to wrap it like this\n            args.appendBodyChild || ((child) => document.body.appendChild(child));\n    }\n    static getIsInstalled() {\n        return SentryInstaller.isInstalled;\n    }\n    static reset() {\n        SentryInstaller.isInstalled = false;\n    }\n    install() {\n        if (SentryInstaller.DEFAULT_DSN[this.windowObj.mosaic.initialData.env] == null ||\n            SentryInstaller.getIsInstalled()) {\n            return;\n        }\n        SentryInstaller.isInstalled = true;\n        this.ensureSentryIsLoaded();\n        this.addSentryOnReady();\n    }\n    onSentryLoad() {\n        const Sentry = this.windowObj.IndeedSentry.Sentry;\n        this.logger.setSentry(Sentry);\n        const initialData = (this.windowObj.mosaic && this.windowObj.mosaic.initialData) || {};\n        const mosaicSentry = new Sentry.BrowserClient({\n            dsn: SentryInstaller.MOSAIC_DSN[initialData.env]\n        });\n        // Check to see if the browser can create a script tag\n        // as a quick check metric for browser compatability issues\n        const script = document.createElement('script');\n        const isEvergreenBrowser = \n        // @ts-ignore: supports() is new but real: https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement/supports\n        (script.supports && script.supports('module')) ||\n            'noModule' in script ||\n            'nomodule' in script;\n        Sentry.addGlobalEventProcessor((event) => {\n            const exceptions = event.exception && event.exception.values;\n            const originalEventRelease = event.release;\n            event.tags = event.tags || {};\n            event.tags.mosaicHostId = initialData.platformId || '';\n            event.tags.mosaicPageId = initialData.pageId || '';\n            event.tags.isEvergreenBrowser = String(isEvergreenBrowser);\n            if (exceptions) {\n                const providers = (this.windowObj.mosaic && this.windowObj.mosaic.providers) || [];\n                Object.keys(providers)\n                    .forEach((providerId) => {\n                    if (this.hasProviderInStacktrace(exceptions, providerId) &&\n                        !this.hadEventBefore(event, providerId)) {\n                        event.tags.provider = providerId;\n                        this.logError(exceptions, providerId);\n                        Sentry.withScope((scope) => {\n                            mosaicSentry.captureEvent(Object.assign(Object.assign({}, event), { fingerprint: [this.fingerprintEvent(event, providerId)] }), undefined, scope);\n                        });\n                    }\n                });\n            }\n            event.release = originalEventRelease;\n            return event;\n        });\n    }\n    hadEventBefore(event, providerId) {\n        const fingerprint = this.fingerprintEvent(event, providerId);\n        if (this.triggeredExceptionsFingerprints.indexOf(fingerprint) !== -1) {\n            return true;\n        }\n        else {\n            this.triggeredExceptionsFingerprints.push(fingerprint);\n            while (this.triggeredExceptionsFingerprints.length > 100) {\n                this.triggeredExceptionsFingerprints.shift();\n            }\n            return false;\n        }\n    }\n    buildStack(e) {\n        try {\n            return e.stacktrace.frames.map((f) => `${f.filename}:${f.lineno}`).join('\\n');\n        }\n        catch (err) {\n            return '';\n        }\n    }\n    logError(exceptions, providerId) {\n        exceptions.forEach((exception) => {\n            this.logger.trackEvent({\n                provider: providerId,\n                parentLogId: getPlatformLogTk(this.windowObj.mosaic, providerId),\n                logType: 'jsuipProviderExecutionError',\n                name: exception.type || 'Error',\n                stack: this.buildStack(exception),\n                message: exception.value || `Provider '${providerId}' Script Error`,\n                errorLocation: 'globalHandler'\n            });\n        });\n    }\n    addSentryOnReady() {\n        if (this.windowObj.IndeedSentry && this.windowObj.IndeedSentry.isLoaded) {\n            this.onSentryLoad();\n        }\n        else {\n            this.windowObj.IndeedSentry.onReady = this.windowObj.IndeedSentry.onReady || [];\n            this.windowObj.IndeedSentry.onReady.push(() => this.onSentryLoad());\n        }\n    }\n    hasProviderInStacktrace(exceptions, providerId) {\n        const providerUrl = this.windowObj.mosaic &&\n            this.windowObj.mosaic.providers &&\n            this.windowObj.mosaic.providers[providerId];\n        if (!providerUrl) {\n            return false;\n        }\n        return exceptions.some((v) => {\n            const frames = v.stacktrace && v.stacktrace.frames;\n            if (frames) {\n                return frames.some((f) => f.filename != null && f.filename.indexOf(providerUrl) >= 0);\n            }\n            else {\n                return false;\n            }\n        });\n    }\n    ensureSentryIsLoaded() {\n        if (this.windowObj.IndeedSentry != null) {\n            return;\n        }\n        const sentryConfig = {\n            isEnabled: true,\n            init: {\n                dsn: SentryInstaller.DEFAULT_DSN[this.windowObj.mosaic.initialData.env]\n            }\n        };\n        const template = document.createElement('template');\n        template.setAttribute('id', 'sentry-json');\n        template.setAttribute('data-json', JSON.stringify(sentryConfig));\n        template.style.display = 'none';\n        this.appendBodyChild(template);\n        this.windowObj.IndeedSentry = {\n            preInitErrors: [],\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            preInitErrorCatcher: (error) => {\n                this.windowObj.IndeedSentry.preInitErrors.push(error);\n            }\n        };\n        this.windowObj.addEventListener('error', this.windowObj.IndeedSentry.preInitErrorCatcher);\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.loadAsync(SentryInstaller.SENTRY_BUNDLE_URL, this.logger);\n    }\n    fingerprintEvent(event, providerId) {\n        const exception = event.exception;\n        if (exception != null) {\n            const str = (exception.values || []).reduce((memo, value) => {\n                // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n                return memo + value.value + JSON.stringify(value.stacktrace) + providerId;\n            }, '');\n            return SentryInstaller.getHash(str);\n        }\n        else {\n            return '';\n        }\n    }\n    static getHash(str) {\n        return str\n            .split('')\n            .reduce(\n        // eslint-disable-next-line no-bitwise\n        (acc, char) => ((acc << 5) - acc + char.charCodeAt(0)) | 0, 0)\n            .toString();\n    }\n}\nSentryInstaller.DEFAULT_DSN = {\n    // https://sentry.qa.indeed.tech/organizations/indeed/projects/default-client-side/\n    QA: 'https://728cf44238034e9d8e378b708b5fe907@sentry-relay.sandbox.qa.indeed.net/3963',\n    // DEVELOPER_PROVISIONING:\n    //     'https://728cf44238034e9d8e378b708b5fe907@sentry-relay.sandbox.qa.indeed.net/3963',\n    // https://sentry.indeed.tech/organizations/indeed/projects/default-client-side\n    PRODUCTION: 'https://658ba2886a9642c2b8c035add5a02b63@sentry.indeed.com/44751'\n};\nSentryInstaller.MOSAIC_DSN = {\n    // https://sentry.qa.indeed.tech/organizations/indeed/projects/mosaic-providers-default/\n    QA: 'https://786e2a9cb5664bbab6c82b25f5dcc7be@sentry-relay.sandbox.qa.indeed.net/4262',\n    // DEVELOPER_PROVISIONING:\n    //     'https://786e2a9cb5664bbab6c82b25f5dcc7be@sentry-relay.sandbox.qa.indeed.net/4262',\n    // https://sentry.indeed.tech/organizations/indeed/projects/mosaic-providers-default\n    PRODUCTION: 'https://4828ba630da4496e8278184d11176c2d@sentry.indeed.com/45071'\n};\nSentryInstaller.SENTRY_BUNDLE_URL = 'https://c03.s3.indeed.com/frontend-sentry-bundle/v1.1.2/js/sentry.js';\nSentryInstaller.isInstalled = false;\n","export const retry = (fn, options, retryCount = 0) => {\n    return new Promise((resolve, reject) => {\n        const { retries, interval } = Object.assign({ retries: 5, interval: 1 }, options);\n        Promise.resolve(fn())\n            .then((data) => resolve({ data, retryCount }))\n            .catch((error) => {\n            if (retryCount < retries) {\n                setTimeout(() => {\n                    retry(fn, {\n                        retries,\n                        interval\n                    }, retryCount + 1).then(resolve, reject);\n                }, interval);\n            }\n            else {\n                reject(error);\n            }\n        });\n    });\n};\n","import { hasEmittedHeight, HEIGHT_LOWER_BOUND } from './initializeProviders';\n/**\n * Returns which zone this provider is assigned to, or the empty string if it's not a zoned\n * provider. Accomplishes this by looking this provider up in the list of zoned providers.\n * This turn out to be slightly brittle; in some cases we use a mix of zoned and non-zoned\n * providers. In those cases, if the provider shows up in the zonedMetadata map we don't want\n * to list a zone for it if it isn't actually loaded in a zone on the page.\n *  * Relies on the assumption that providers can only show up once in a single page.\n * @param providerEl the HTML element of the provider on the page.\n * @param providerId the string identifier of the provider\n */\nexport const getZone = (providerEl, providerId) => {\n    // First find the element on the page and check its parent to see if it's in a zone\n    if (!providerEl ||\n        !providerEl.parentElement ||\n        !providerEl.parentElement.className ||\n        providerEl.parentElement.className.indexOf('mosaic-zone') < 0) {\n        return null;\n    }\n    // Now that we know it's zoned, get the actual zone\n    const zones = window.mosaic.zonedProviders;\n    for (const zone in zones) {\n        if (zones[zone].indexOf(providerId) >= 0) {\n            return zone;\n        }\n    }\n    // Unzoned\n    return null;\n};\n/**\n * We want to be able to log which position this provider is in its zone. The challenge is that\n * not every provider in the zone actually has content to show. Disabled or erroring content\n * providers still get put in the list (see MOSPLAT-806). This function filters them out by\n * cross-checking the providers in the zone with the overall list of providers. (Disabled or\n * erroring content providers won't show up in the overall list of providers because they don't\n * have associated JS bundles).\n * @param id The id of this provider\n * @param zone The zone this provider shows up in; see getZone()\n */\nexport const getIndexInZone = (id, zone) => {\n    if (!zone) {\n        return -1;\n    }\n    const providers = window.mosaic.providers;\n    const zonedProviders = window.mosaic.zonedProviders[zone];\n    let index = 0;\n    for (const provider of zonedProviders) {\n        // This is us.\n        if (provider === id) {\n            return index;\n            // Only increment the count if it's registered in providers.\n            // Otherwise it's not a real impression and won't show any content.\n        }\n        else if (providers[provider]) {\n            index += 1;\n        }\n    }\n    return -1;\n};\n/**\n * Identify whether a provider is registered as Lazy\n * @param id\n */\nexport const isLazy = (id) => window.mosaic && window.mosaic.lazyProviders && window.mosaic.lazyProviders.hasOwnProperty(id);\nexport const visibility = (id, register) => {\n    var _a, _b;\n    const element = document.getElementById(id);\n    const hasHtml = !!(element && element.innerHTML.length > 0);\n    const hasHeight = !!(element && element.clientHeight > 0);\n    const height = (_a = element === null || element === void 0 ? void 0 : element.clientHeight) !== null && _a !== void 0 ? _a : 0;\n    const width = (_b = element === null || element === void 0 ? void 0 : element.clientWidth) !== null && _b !== void 0 ? _b : 0;\n    if (register && hasEmittedHeight[id] !== true) {\n        const emittedHeight = height > HEIGHT_LOWER_BOUND;\n        hasEmittedHeight[id] = emittedHeight;\n    }\n    return { hasHeight, hasHtml, width, height };\n};\nexport const getPlatformData = (mosaicGlobal) => {\n    return {\n        host: mosaicGlobal.initialData.hostId,\n        pageId: mosaicGlobal.initialData.pageId\n    };\n};\n// This is currently just used for logging\nexport const getLoadMethod = (mosaicGlobal, id) => (mosaicGlobal.providerLoadMethod &&\n    mosaicGlobal.providerLoadMethod.hasOwnProperty(id) &&\n    mosaicGlobal.providerLoadMethod[id]) ||\n    'immediate';\n","export const windowProviderDebug = (providerId, message) => {\n    // make sure window has been defined\n    if (!window.mosaic) {\n        console.log('Window.mosaic not defined');\n        return;\n    }\n    // if the user isn't logged into VPN then don't add debug information\n    if (!window.mosaic.privileged) {\n        return;\n    }\n    window.mosaic.debug = window.mosaic.debug || {};\n    window.mosaic.debug[providerId] = window.mosaic.debug[providerId] || [];\n    window.mosaic.debug[providerId].push(message);\n};\n","import { providerInView } from './providerInView';\nimport { getPerfomanceTimings, getNavTimings, getProviderLoadTimings } from './performance';\nimport { loadScript, loadStyle } from './loadAsync';\nimport { SentryInstaller } from './sentry';\nimport { retry } from './retry';\nimport { getProviderData } from '@indeed/mosaic-provider-utils/dist/web/_internal/setup/providerData';\nimport { addClassToElement } from '@indeed/mosaic-provider-utils/dist/web/_internal/utils/addClassToElement';\nimport { getZone, getIndexInZone, isLazy, visibility, getPlatformData, getLoadMethod } from './initializeProvidersUtils';\nimport { getPlatformLogTk } from './getPlatformLogTk';\nimport { windowProviderDebug } from './debug';\nimport { log as logProviderDimensionChange, AvroOptional } from '@indeed/signals-schema/com/indeed/signals/schema/mosaic/ProviderDimensionChange';\nimport { SharedDepsClient } from '@indeed/frontend-shared-deps-loader/dist/api/client';\n// Keep track of the mutation observers per provider id\n// so that we can call disconnect() on the observer\n// after we emit height for the provider\nexport const mutationObservers = {};\n// Keep track of providers who have emitted height, if they have, then\n// we want to remove the mutation observer from the provider.\nexport const hasEmittedHeight = {};\n// Any height seen (in px) larger than HEIGHT_LOWER_BOUND\n// will cause the MutationObserver callback function to\n// emit a message to mosaicProviderDimensionChange,\n// if the provider hasn't already emitted to that\n// table.\nexport const HEIGHT_LOWER_BOUND = 10;\n/*\n * Attempt to execute a Provider JavaScript bundle once it's been loaded.\n * Logging the success or failure of the execution\n **/\nconst buildMountProvider = ({ id, logger, resolve, reject, jsPath, initializationContext }) => () => {\n    var _a;\n    try {\n        if (window.performance && window.performance.mark) {\n            window.performance.mark(`${id}_execution_start`);\n        }\n        const providerFn = (_a = window.mosaic.providerFNs) === null || _a === void 0 ? void 0 : _a[id];\n        if (!providerFn) {\n            throw new Error(`providerFn for ${id} is missing, this probably means that register() was not called`);\n        }\n        const config = providerFn === null || providerFn === void 0 ? void 0 : providerFn();\n        if (window.performance && window.performance.mark) {\n            window.performance.mark(`${id}_execution_end`);\n        }\n        const data = getProviderData(id);\n        const seenData = data.seenData;\n        const eventData = data.eventData;\n        const shouldLogClicks = window.mosaic && window.mosaic.shouldLogProviderContainerClicks\n            ? window.mosaic.shouldLogProviderContainerClicks[id]\n            : false;\n        // Add class to signify the provider has been hydrated\n        if (config && config.providerEl) {\n            addClassToElement(config.providerEl, 'mosaic-provider-hydrated');\n            windowProviderDebug(id, 'Provider hydrated');\n            if (shouldLogClicks && !clicksEnabled(id)) {\n                document.body.addEventListener('click', (event) => {\n                    if (config.providerEl.contains(event.target)) {\n                        logger.trackInteraction('mosaicContainerClick', Object.assign(Object.assign(Object.assign({ provider: id, parentLogId: getPlatformLogTk(window.mosaic, id), loadMethod: getLoadMethod(window.mosaic, id) }, visibility(id, true)), getClickTargetInfo(event)), eventData));\n                    }\n                }, true // uses capture phase in case other listeners stop propagation\n                );\n                registerClicksEnabled(id);\n            }\n        }\n        if (config &&\n            config.providerOptions &&\n            config.providerOptions.logInViewport &&\n            !seenEnabled(id)) {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            providerInView(config.providerEl, () => {\n                logger.trackEvent(Object.assign(Object.assign(Object.assign({ logType: 'mosaicProviderSeen', provider: id, parentLogId: getPlatformLogTk(window.mosaic, id), loadMethod: getLoadMethod(window.mosaic, id) }, visibility(id, true)), seenData), eventData));\n                if (config &&\n                    config.providerOptions &&\n                    config.providerOptions.onProviderInViewport) {\n                    config.providerOptions.onProviderInViewport({ seenData, eventData });\n                }\n            });\n            registerSeenEnabled(id);\n        }\n        // If the execution fails, we still want to look up the element so we can log the zone and index\n        const element = config ? config.providerEl : document.getElementById(id);\n        const zone = getZone(element, id);\n        logger.trackEvent(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ logType: 'jsuipProviderLoadTimings', provider: id, parentLogId: getPlatformLogTk(window.mosaic, id), isLazy: isLazy(id), zoneId: zone, indexInZone: getIndexInZone(id, zone), initializationType: initializationContext.type, loadMethod: getLoadMethod(window.mosaic, id) }, visibility(id, true)), getNavTimings()), getPerfomanceTimings()), getProviderLoadTimings(id, jsPath)), eventData));\n        const loadTimings = getProviderLoadTimings(id, jsPath);\n        const vis = visibility(id, true);\n        const lazy = isLazy(id);\n        const index = getIndexInZone(id, zone);\n        windowProviderDebug(id, `Index in zone: ${index}`);\n        windowProviderDebug(id, `Lazy: ${lazy}`);\n        windowProviderDebug(id, `Load Timing: loadStart[${loadTimings.loadStart}] loadEnd[${loadTimings.loadEnd}] executionStart[${loadTimings.executionStart}] executionEnd[${loadTimings.executionEnd}]`);\n        windowProviderDebug(id, `Visibility: Height[${vis.height}] Width[${vis.width}] HasHtml[${vis.hasHeight}]`);\n        // Create a MutationObserver that will watch the provider\n        // to see if they eventually render any content, but only\n        // do so after emitting load timings, so we can see if the provider\n        // already has emitted height\n        if (config && config.providerEl && hasEmittedHeight[id] !== true) {\n            const mutationObserver = new MutationObserver(generateMutationObserverCallback(id));\n            mutationObserver.observe(config.providerEl, {\n                subtree: true,\n                attributes: true,\n                childList: true,\n                characterData: true // observe for changes to the character data contained within the node or nodes.\n            });\n            mutationObservers[id] = mutationObserver;\n        }\n        resolve(config);\n        return config;\n    }\n    catch (e) {\n        try {\n            const element = document.getElementById(id);\n            const zone = getZone(element, id);\n            logger.trackError('jsuipProviderExecutionError', e, id, {\n                initializationType: initializationContext.type,\n                zoneId: zone,\n                indexInZone: getIndexInZone(id, zone),\n                errorLocation: 'initialization'\n            });\n            // @ts-ignore\n            windowProviderDebug(id, `Caught error during initialization: ${e.toString()}`);\n            throw e;\n        }\n        catch (error) {\n            reject(error);\n            throw error;\n        }\n    }\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst getClickTargetInfo = (event) => {\n    const target = event.target;\n    const targetParent = target ? target.parentElement : null;\n    return {\n        clickTargetId: target ? target.id : null,\n        clickTargetTag: target ? target.tagName : null,\n        clickTargetClass: target ? target.getAttribute('class') : null,\n        clickTargetParentId: targetParent ? targetParent.id : null,\n        clickTargetParentTag: targetParent ? targetParent.tagName : null,\n        clickTargetParentClass: targetParent ? targetParent.getAttribute('class') : null\n    };\n};\nconst buildHandleProviderLoadError = ({ id, logger, reject, initializationContext }) => (e) => {\n    logger.trackError('jsuipProviderLoadError', e, id, {\n        initializationType: initializationContext.type\n    });\n    windowProviderDebug(id, 'Provider Load Error: ' + e.name + ':' + e.message);\n    reject(e);\n    throw e;\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const initializeRuntime = (logger) => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return retry(() => {\n        return (SharedDepsClient.v1\n            .load('module', {\n            prereqUrls: [],\n            prereqContainers: ['react17-shared'],\n            urls: [window.mosaic.platform.module.url],\n            container: window.mosaic.platform.module.container,\n            module: window.mosaic.platform.module.name,\n            shareScope: window.mosaic.platform.module.shareScope\n        })\n            // The shared module loader actually returns the module,\n            // but our runtime module is exclusively side-effects,\n            // and elsewhere we depend on this being void.\n            .then(() => {\n            return;\n        }));\n    })\n        .then(({ data, retryCount }) => {\n        if (retryCount > 0) {\n            logger.trackEvent({\n                logType: 'mosaicPlatformLoadRecovery',\n                retriesCount: retryCount\n            });\n        }\n        return data;\n    })\n        .catch((error) => {\n        logger.trackError('jsuipPlatformLoadError', error, undefined);\n        // TODO: potentially remove SSR'ed HTML in the event where platform deps fail to load\n        // Throw an error so that providers trigger a load error, and not an execution error\n        throw new Error('Failed to load mosaic common dependencies');\n    });\n};\nconst initializeProviders = (providers, translations, logger, existingInitialization) => {\n    var _a, _b, _c, _d;\n    let mosaicRuntime;\n    let onInitialization;\n    let initializationContext;\n    if (!existingInitialization) {\n        const isCriticalHost = ['homepage', 'jobsearch'].includes((_a = getPlatformData(window.mosaic)) === null || _a === void 0 ? void 0 : _a.host);\n        const isSentryInactive = ((_d = (_c = (_b = window === null || window === void 0 ? void 0 : window.mosaic.config) === null || _b === void 0 ? void 0 : _b.proctor) === null || _c === void 0 ? void 0 : _c.mosaic_sentry_removal_tst) === null || _d === void 0 ? void 0 : _d.value) === 1 && isCriticalHost;\n        if (!isSentryInactive) {\n            // Install Sentry before providers run their code\n            new SentryInstaller(logger).install();\n        }\n        mosaicRuntime = initializeRuntime(logger);\n        onInitialization = (initialization) => {\n            // Execute functions enqueued by host or providers that rely on\n            // the Mosaic runtime to be initialized\n            if (window.mosaic.apiQueue) {\n                window.mosaic.apiQueue.forEach((fn) => {\n                    try {\n                        fn(initialization);\n                    }\n                    catch (e) {\n                        if (typeof window.reportError === 'function') {\n                            window.reportError(e);\n                        }\n                    }\n                });\n            }\n            // After clearing the queue, execute newly-enqueued functions immediately\n            window.mosaic.onMosaicApiReady = (fn) => fn(initialization);\n        };\n        initializationContext = {\n            type: 'initial'\n        };\n    }\n    else {\n        mosaicRuntime = existingInitialization;\n        onInitialization = () => { };\n        initializationContext = {\n            type: 'update'\n        };\n    }\n    const platformInitialization = mosaicRuntime\n        .then((init) => {\n        const initialization = init || {};\n        window.mosaic.lazyFns = window.mosaic.lazyFns || {};\n        // Relocate emotion styles to the head before provider hydration\n        // Reference: https://github.com/emotion-js/emotion/blob/1135f8e9d97ea711eb483368313afdfe7b176845/packages/cache/src/index.js#L56\n        const ssrStyles = document.querySelectorAll(`style[data-emotion]:not([data-s])`);\n        ssrStyles.forEach((node) => {\n            const dataEmotionAttribute = node.getAttribute('data-emotion');\n            if (!dataEmotionAttribute || dataEmotionAttribute.indexOf(' ') === -1) {\n                return;\n            }\n            document.head.appendChild(node);\n            node.setAttribute('data-s', '');\n        });\n        Object.keys(providers).forEach((providerId) => {\n            initialization[providerId] = new Promise((resolveProviderInitialization, rejectProviderInitialization) => {\n                windowProviderDebug(providerId, 'Initializing provider');\n                // Loading ${example_provider}'s JavaScript bundle registers\n                // an entry function to the global object. `mountProvider`\n                // executes that function, and resolves ${example_provider}'s\n                // initialization promise if successful\n                const mountProvider = buildMountProvider({\n                    id: providerId,\n                    logger,\n                    resolve: resolveProviderInitialization,\n                    reject: rejectProviderInitialization,\n                    jsPath: providers[providerId],\n                    initializationContext\n                });\n                // Performs logging and cleanup if a provider's JavaScript bundle\n                // fails to load or throws an error while executing\n                const handleLoadError = buildHandleProviderLoadError({\n                    id: providerId,\n                    logger,\n                    reject: rejectProviderInitialization,\n                    initializationContext\n                });\n                // Begins loading a provider's static assets. When its JavaScript\n                // bundle is loaded and executed, the provider's entry function is\n                // registered to the global object\n                const registerProvider = () => {\n                    if (!registerProvider._registration) {\n                        const translationAssetPromise = translations && translations[providerId]\n                            ? retry(() => loadScript(translations[providerId]))\n                            : Promise.resolve();\n                        // Currently, CSS is only dynamically loaded for providers that are\n                        // discovered and initialized after initial page load. Lazy providers\n                        // that are known at initial page load time eagerly load their CSS asset\n                        const stylePath = window.mosaic.providerCss &&\n                            window.mosaic.providerCss[providerId];\n                        const styleAssetPromise = stylePath\n                            ? retry(() => loadStyle(stylePath))\n                            : Promise.resolve();\n                        const javaScriptAssetPromise = retry(() => loadScript(providers[providerId]));\n                        registerProvider._registration = Promise.all([\n                            mosaicRuntime,\n                            javaScriptAssetPromise,\n                            styleAssetPromise,\n                            translationAssetPromise\n                        ]).then(() => ({ mount: mountProvider }), handleLoadError);\n                    }\n                    return registerProvider._registration;\n                };\n                // Loads a provider's static assets and mounts the provider after\n                // it has been registered\n                const initProvider = () => {\n                    return registerProvider().then(({ mount }) => mount());\n                };\n                // Expose an API to register the provider without immediately\n                // mounting it\n                initProvider.register = registerProvider;\n                // if a provider is declare \"lazy\", we dont immediately execute it\n                // instead, we let hosts, trigger when the Provider should be loaded, etc\n                if (isLazy(providerId)) {\n                    window.mosaic.lazyFns[providerId] = initProvider;\n                }\n                else {\n                    // otherwise we execute immediately\n                    initProvider().catch(() => { });\n                }\n            });\n            initialization[providerId].catch(() => {\n                windowProviderDebug(providerId, 'Caught error while initializing');\n            });\n        });\n        onInitialization(initialization);\n        return initialization;\n    })\n        .catch((e) => ({}));\n    return platformInitialization;\n};\n// Checks to see if we have previously added a click event watcher\n// to the provider in question\nconst clicksEnabled = (providerId) => {\n    if (!window.mosaic) {\n        return false;\n    }\n    if (!window.mosaic.providerEventsEnabled) {\n        window.mosaic.providerEventsEnabled = {\n            seen: {},\n            clicks: {}\n        };\n    }\n    window.mosaic.providerEventsEnabled.clicks = window.mosaic.providerEventsEnabled.clicks || {};\n    return window.mosaic.providerEventsEnabled.clicks[providerId] === true;\n};\n// Checks to see if we have previously added an in view watcher\n// to the provider in question\nconst seenEnabled = (providerId) => {\n    if (!window.mosaic) {\n        return false;\n    }\n    if (!window.mosaic.providerEventsEnabled) {\n        window.mosaic.providerEventsEnabled = {\n            seen: {},\n            clicks: {}\n        };\n    }\n    window.mosaic.providerEventsEnabled.seen = window.mosaic.providerEventsEnabled.seen || {};\n    return window.mosaic.providerEventsEnabled.seen[providerId] === true;\n};\n// Registers that we have enabled a click event watcher\n// on the provider so we don't do it multiple times\nconst registerClicksEnabled = (providerId) => {\n    if (!window.mosaic) {\n        return;\n    }\n    window.mosaic.providerEventsEnabled.clicks = window.mosaic.providerEventsEnabled.clicks || {};\n    window.mosaic.providerEventsEnabled.clicks[providerId] = true;\n};\n// Registers that we have enabled an in view watcher\n// on the provider so we don't do it multiple times\nconst registerSeenEnabled = (providerId) => {\n    if (!window.mosaic) {\n        return;\n    }\n    window.mosaic.providerEventsEnabled.seen = window.mosaic.providerEventsEnabled.seen || {};\n    window.mosaic.providerEventsEnabled.seen[providerId] = true;\n};\n// Whenever a mutation is observed for a provider,\n// we want to emit visibility data for that provider\n// if it's the first time we've seen a height\n// larger than HEIGHT_LOWER_BOUND.\n// This is a higher order function because we need to be\n// able to access the providerId when writing to signals\n// and we aren't guaranteed to be able to get the provider\n// id from the MutationRecord.\nexport const generateMutationObserverCallback = (providerId) => {\n    return (entries) => {\n        entries.forEach(() => {\n            const id = providerId;\n            // First check to see if we've already\n            // emitted height for this provider,\n            // if we have then we want to\n            // remove the mutation observer\n            if (hasEmittedHeight[providerId]) {\n                mutationObservers[providerId].disconnect();\n                return;\n            }\n            // We only want to emit the first time that we see height on the provider\n            // and we want the height to be larger than 10px at least.\n            const visibilityData = visibility(id);\n            if (visibilityData.height > HEIGHT_LOWER_BOUND) {\n                const platformData = getPlatformData(window.mosaic);\n                // This needs to follow the schema for the\n                // mosaicProviderDimensionChange LogRepo table,\n                // found here:\n                // https://indeed.sourcegraph.com/code.corp.indeed.com/frontend/signals/-/blob/schemas/src/main/avro/signals/mosaic/MosaicEvents.avdl#L4\n                logProviderDimensionChange({\n                    providerId: id,\n                    hostId: platformData.host,\n                    parentLogId: AvroOptional.string(getPlatformLogTk(window.mosaic, id)),\n                    pageId: AvroOptional.string(platformData.pageId),\n                    height: AvroOptional.double(visibilityData.height),\n                    width: AvroOptional.double(visibilityData.width),\n                    hasHtml: AvroOptional.boolean(visibilityData.hasHtml)\n                });\n                // disconnect the mutation observer after we emit that\n                // we've seen height\n                mutationObservers[id].disconnect();\n                hasEmittedHeight[id] = true;\n            }\n        });\n    };\n};\nexport default initializeProviders;\n","export function invokeRegisteredCallbacks(mosaic, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndata) {\n    var _a;\n    // pull out the provider id and log type so the user can filter on them\n    const providerId = data.provider;\n    const eventType = data.logType;\n    (_a = mosaic === null || mosaic === void 0 ? void 0 : mosaic.loggingCallbacks) === null || _a === void 0 ? void 0 : _a.forEach((callback) => {\n        try {\n            callback({ eventType, providerId, data });\n        }\n        catch (e) { }\n    });\n}\n","import { getPlatformLogTk } from './getPlatformLogTk';\nimport { invokeRegisteredCallbacks } from './providerLoggingCallback';\nimport { windowProviderDebug } from './debug';\nimport { getLoadMethod } from './initializeProvidersUtils';\nexport const PLATFORM_LOG_EVENT = 'trackUIPlatformEvent';\nconst USER_INTERACTION_LOG_TYPE = 'mosaicUserInteraction';\nfunction isError(error) {\n    return error instanceof Error;\n}\n// This function will translate the error passed to\n// trackError into something that can be passed\n// into trackEvent with at least a message field.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getErrorInfo(error) {\n    // First do a null check, if the error is null,\n    // then that itself is an error. Create a new\n    // error to use that will then preserve the stack trace.\n    // This will prevent the\n    // { message: null, stack: null, name: null }\n    // entries that we've seen in LogRepo in the past.\n    if (error === null) {\n        error = new Error('Error passed to trackError was null');\n    }\n    if (isError(error)) {\n        return {\n            name: error.name,\n            stack: error.stack,\n            message: error.message\n        };\n    }\n    // if what's passed through is just a string then\n    // just embed it in the message field\n    if (typeof error === 'string') {\n        return {\n            message: error\n        };\n    }\n    // if none of the above conditions match, then call JSON.stringify\n    // on the error.  This is done with JSON.stringify since in the past\n    // we have seen a lot of `message: [object Object]` entries in LogRepo.\n    // example of failures) https://link.indeed.tech/IDASH6WR7KR\n    return {\n        message: JSON.stringify(error)\n    };\n}\nexport class MosaicLogger {\n    constructor(mosaicGlobal, logger) {\n        this.mosaicGlobal = mosaicGlobal;\n        this.logger = logger;\n        const script = document.createElement('script');\n        const isEvergreenBrowser = \n        // @ts-ignore: supports() is new but real: https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement/supports\n        (script.supports && script.supports('module')) ||\n            'noModule' in script ||\n            'nomodule' in script;\n        this.isEvergreenBrowser = String(isEvergreenBrowser);\n    }\n    trackError(logType, error, providerId, data = {}) {\n        var _a;\n        // Sometimes the error object isn't of type Error,\n        // so we need to transform it in order to pass it along\n        // to trackEvent\n        const errorInfo = getErrorInfo(error);\n        if (providerId) {\n            windowProviderDebug(providerId, 'Provider Error: ' + JSON.stringify(errorInfo));\n        }\n        this.trackEvent(Object.assign(Object.assign({ provider: providerId, parentLogId: getPlatformLogTk(this.mosaicGlobal, providerId), canary: providerId && ((_a = this.mosaicGlobal.canaryProviders) === null || _a === void 0 ? void 0 : _a[providerId]) ? 1 : 0, loadMethod: providerId && getLoadMethod(this.mosaicGlobal, providerId), logType }, errorInfo), data));\n        const errorTypes = {\n            jsuipPlatformInitError: 'platformInitializationError',\n            jsuipPlatformLoadError: 'platformLoadError',\n            jsuipProviderLoadError: 'providerLoadError',\n            jsuipProviderExecutionError: 'providerExecutionError'\n        };\n        if (this.sentry != null) {\n            const tags = {};\n            if (errorTypes[logType]) {\n                tags.mosaicExceptionType = errorTypes[logType];\n            }\n            this.sentry.captureException(error, { tags });\n        }\n    }\n    trackEvent(data) {\n        invokeRegisteredCallbacks(this.mosaicGlobal, data);\n        data.isEvergreenBrowser = this.isEvergreenBrowser;\n        this.logger.event.trackEvent(PLATFORM_LOG_EVENT, data);\n    }\n    trackInteraction(eventType, data) {\n        invokeRegisteredCallbacks(this.mosaicGlobal, Object.assign({ logType: USER_INTERACTION_LOG_TYPE }, data));\n        this.logger.event.trackEvent(eventType, Object.assign({ logType: USER_INTERACTION_LOG_TYPE }, data));\n    }\n    setSentry(sentry) {\n        this.sentry = sentry;\n    }\n}\n","import initializeProviders from './util/initializeProviders';\nimport { getLogger } from '@indeed/mosaic-provider-utils/dist/web/logger';\nimport { MosaicLogger } from './util/logging';\n/**\n * The main method for dynamically adding the central Provider dependencies, and Provider JavaScript bundles\n * to the DOM asynchronously, with proper error handling and instrumentation.\n */\ntry {\n    (() => {\n        const logger = new MosaicLogger(window.mosaic, getLogger('uip-common'));\n        try {\n            window.mosaic._loadProviders = (providerScripts, providerTranslations) => {\n                window.mosaic.onReady = initializeProviders(providerScripts, providerTranslations, logger, window.mosaic.onReady);\n                return window.mosaic.onReady;\n            };\n            window.mosaic\n                ._loadProviders(window.mosaic.providers, window.mosaic.provideri18N)\n                .catch((e) => logger.trackError('jsuipPlatformInitError', e));\n        }\n        catch (e) {\n            logger.trackError('jsuipPlatformInitError', e);\n        }\n    })();\n}\ncatch (e) {\n    // TODO something happened and logging isn't available, what should we do?\n    // make a http request to the host app?\n}\n"],"names":["exports","IntersectionObserver","providerEl","callback","observer","providerEntryArray","intersectionRatio","unobserve","threshold","observe","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","defineProperty","value","getLogger","event_1","transport_1","providerName","logger","init","application","modules","transport","default","setModules","EventModule","setTransport","logAction","_a","data","event","trackEvent","logType","provider","logSeen","_networkGetRequest_1","ProviderTransport","options","loggingUrl","endpoint","getLoggingHost","currentHost","window","location","host","defaultQADomain","domains","split","map","x","replace","startOfTLD","indexOf","hostname","slice","join","concat","getLthForLogType","mosaic","initialData","logTypes","e","send","logs","_this","forEach","log","lth","mosaicRoot","overrideData","overrides","additionalData","type","parentLogId","platformLogTk","logTk","platform","platformId","pageId","ctk","country","sendGetRequest","setHostData","getProviderData","MOSAIC_HOST_DATA_KEY","providerId","providerSetInitialData","providerData","platformSetInitializationData","initializationData","addClassToElement","el","className","classList","add","classes","getAttribute","setAttribute","logging_1","asOptional","avroType","AvroOptional","boolean","int","long","float","double","bytes","string","array","record","typeName","configure","disconnect","AvroOptional_1","enumerable","get","isBrowser","document","schemaFingerprint","message","Error","fingerprintedMessage","signals_transport","emitSignal","configuration","signals_logger_1","signals_logger_2","onModuleLoad","queue","INDEED_LOGGING","config","params","moduleOptions","name","M","q","sampleLogs","_logger","bind","m","_ref","method","args","keys","loadModules","moduleConfig","module","Module","methods","_onModuleLoad","mc","internalMethod","ts","currentTs","_len","Array","_key","unshift","push","Logger","constructor","globalParams","logQueue","addEventListener","processQueue","moduleName","undefined","createOnModuleLoad","importedModules","Transport","_oldOnError","onerror","jsError","logJsErr","NODE_ENV","IndeedLogger","BrowserSupport","supportsPerformanceNow","performance","now","TimeStampTypes","copyProps","obj","props","reduce","prev","prop","eventName","_trackEvent","payload","_objectSpread","trackPerformanceEntry","performanceEntry","_trackPerformanceEntry","performanceProps","trackTimerEntry","timerEntry","_trackTimerEntry","_defineProperty","baseUrl","logRequestData","url","qs","img","Image","src","height","width","style","display","alt","body","appendChild","onload","parentNode","removeChild","SharedDepsV1","__importStar","require","load","doLoad","_INDEED","shared","v1","_b","Promise","resolve","reject","API_READY_EVENT","then","once","String","percentTwenties","formatters","RFC1738","RFC3986","stringify","parse","formats","utils","has","defaults","allowDots","allowPrototypes","arrayLimit","decoder","decode","delimiter","depth","parameterLimit","plainObjects","strictNullHandling","parseKeys","givenKey","val","key","child","segment","exec","parent","index","chain","leaf","root","parseArrays","create","cleanRoot","charAt","parseInt","isNaN","parseObject","str","opts","TypeError","ignoreQueryPrefix","isRegExp","tempObj","cleanStr","limit","Infinity","parts","part","bracketEqualsPos","pos","parseValues","newObj","merge","compact","arrayPrefixGenerators","brackets","prefix","indices","repeat","isArray","pushToArray","arr","valueOrArray","toISO","Date","toISOString","encode","encoder","encodeValuesOnly","serializeDate","date","skipNulls","object","generateArrayPrefix","filter","sort","formatter","isBuffer","objKeys","values","format","arrayFormat","joined","addQueryPrefix","hexTable","toString","toUpperCase","arrayToObject","source","target","acc","o","refs","item","j","pop","compacted","compactQueue","decodeURIComponent","out","c","charCodeAt","mergeTarget","targetItem","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","d","a","definition","r","Symbol","toStringTag","webpackPublicPath","__webpack_public_path__","getProviderLoadTimings","providerJsPath","performanceTimings","loadTiming","getEntriesByName","loadStart","Math","round","startTime","loadEnd","responseEnd","executionStartEntry","executionStart","executionEndEntry","executionEnd","loadScript","path","SharedDepsClient","urls","getPlatformLogTk","mosaicGlobal","_c","_d","platformLogTkLookup","SentryInstaller","triggeredExceptionsFingerprints","windowObj","loadAsync","appendBodyChild","static","isInstalled","install","DEFAULT_DSN","env","getIsInstalled","ensureSentryIsLoaded","addSentryOnReady","onSentryLoad","Sentry","IndeedSentry","setSentry","mosaicSentry","BrowserClient","dsn","MOSAIC_DSN","script","createElement","isEvergreenBrowser","supports","addGlobalEventProcessor","exceptions","exception","originalEventRelease","release","tags","mosaicHostId","mosaicPageId","providers","hasProviderInStacktrace","hadEventBefore","logError","withScope","scope","captureEvent","fingerprint","fingerprintEvent","shift","buildStack","stacktrace","frames","f","filename","lineno","err","stack","errorLocation","isLoaded","onReady","providerUrl","some","v","sentryConfig","isEnabled","template","JSON","preInitErrors","preInitErrorCatcher","error","SENTRY_BUNDLE_URL","memo","getHash","char","QA","PRODUCTION","retry","fn","retryCount","retries","interval","catch","setTimeout","getZone","parentElement","zones","zonedProviders","zone","getIndexInZone","id","isLazy","lazyProviders","visibility","register","element","getElementById","hasHtml","innerHTML","hasHeight","clientHeight","clientWidth","hasEmittedHeight","emittedHeight","HEIGHT_LOWER_BOUND","getPlatformData","hostId","getLoadMethod","providerLoadMethod","windowProviderDebug","privileged","debug","mutationObservers","buildMountProvider","jsPath","initializationContext","mark","providerFn","providerFNs","seenData","eventData","shouldLogClicks","shouldLogProviderContainerClicks","clicksEnabled","contains","trackInteraction","loadMethod","getClickTargetInfo","registerClicksEnabled","providerOptions","logInViewport","seenEnabled","onProviderInViewport","providerInViewUtil","registerSeenEnabled","zoneId","indexInZone","initializationType","getNavTimings","navigationStart","domInteractive","domComplete","domContentLoadedEventEnd","timing","providerInteractive","getPerfomanceTimings","getEntriesByType","entry","loadTimings","vis","lazy","mutationObserver","MutationObserver","generateMutationObserverCallback","subtree","attributes","childList","characterData","trackError","targetParent","clickTargetId","clickTargetTag","tagName","clickTargetClass","clickTargetParentId","clickTargetParentTag","clickTargetParentClass","providerEventsEnabled","seen","clicks","entries","visibilityData","platformData","logProviderDimensionChange","initializeProviders","translations","existingInitialization","mosaicRuntime","onInitialization","isCriticalHost","includes","proctor","mosaic_sentry_removal_tst","prereqUrls","prereqContainers","container","shareScope","_ref3","retriesCount","initializeRuntime","initialization","apiQueue","reportError","onMosaicApiReady","platformInitialization","lazyFns","querySelectorAll","node","dataEmotionAttribute","head","resolveProviderInitialization","rejectProviderInitialization","mountProvider","handleLoadError","_ref2","buildHandleProviderLoadError","registerProvider","_registration","translationAssetPromise","stylePath","providerCss","styleAssetPromise","loadStyle","javaScriptAssetPromise","all","mount","initProvider","_ref4","invokeRegisteredCallbacks","eventType","loggingCallbacks","USER_INTERACTION_LOG_TYPE","getErrorInfo","isError","MosaicLogger","errorInfo","canary","canaryProviders","errorTypes","jsuipPlatformInitError","jsuipPlatformLoadError","jsuipProviderLoadError","jsuipProviderExecutionError","sentry","mosaicExceptionType","captureException","_loadProviders","providerScripts","providerTranslations","provideri18N"],"sourceRoot":""}